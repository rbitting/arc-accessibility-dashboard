(this["webpackJsonparc-accessibility-dashboard"]=this["webpackJsonparc-accessibility-dashboard"]||[]).push([[0],{11:function(e,t,a){},17:function(e,t,a){e.exports=a(30)},29:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(10),c=a.n(r),l=a(2),i=a(3),o=a(5),m=a(4),u=a(7),h=a(6),d=(a(11),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=1,t=this.props.data.map((function(t){return t.categories?n.a.createElement("tr",{className:"result-item",key:"result-item-"+e++},n.a.createElement("td",{className:"result"},n.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.requestedUrl)),n.a.createElement("td",{className:"result"},t.categories.performance?Math.ceil(100*t.categories.performance.score):"n/a"),n.a.createElement("td",{className:"result"},t.categories.accessibility?Math.ceil(100*t.categories.accessibility.score):"n/a"),n.a.createElement("td",{className:"result"},t.categories["best-practices"]?Math.ceil(100*t.categories["best-practices"].score):"n/a"),n.a.createElement("td",{className:"result"},t.categories.seo?Math.ceil(100*t.categories.seo.score):"n/a"),n.a.createElement("td",{className:"result"},t.categories.pwa?Math.ceil(100*t.categories.pwa.score):"n/a")):null}));return n.a.createElement("tbody",null,this.props.data?t:n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"3"},"No results returned.")))}}]),t}(n.a.Component)),p=a(13),g=a.n(p),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={isPopoverOpen:!1},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(g.a,{isOpen:this.state.isPopoverOpen,align:"end",position:"bottom",onClickOutside:function(){return e.setState({isPopoverOpen:!1})},content:function(t){var a=t.position,s=t.targetRect,r=t.popoverRect;return n.a.createElement(p.ArrowContainer,{position:a,targetRect:s,popoverRect:r,arrowColor:"#eeeeee",arrowSize:10,arrowStyle:{}},n.a.createElement("div",{className:"popover"},e.props.description))}},n.a.createElement("div",{onClick:function(){return e.setState({isPopoverOpen:!e.state.isPopoverOpen})}},this.props.title))}}]),t}(n.a.Component),E=a(9),b=a(8),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={data:[],filteredData:[],showMore:!1,showManual:!0},a.handleClick=a.handleClick.bind(Object(u.a)(a)),a.handleCheckClick=a.handleCheckClick.bind(Object(u.a)(a)),a.handleCheckChange=a.handleCheckChange.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){for(var e=this.props.data,t={},a=0;a<e.length;a++)for(var s in e[a].audits)e[a].audits.hasOwnProperty(s)&&(null!=t[s]&&1!==e[a].audits[s].score?t[s].count=t[s].count+1:1!==e[a].audits[s].score&&(t[s]={count:1,title:e[a].audits[s].title,manual:null==e[a].audits[s].score,description:e[a].audits[s].description}));var n=Object.keys(t).map((function(e){return t[e]}));n.sort(this.sortByCount),this.setState({data:n,filteredData:n})}},{key:"handleCheckClick",value:function(e){this.handleCheckChange(e);var t=document.getElementById("showmanual-checkbox");t.checked?t.checked=!1:t.checked=!0}},{key:"handleCheckChange",value:function(e){e.stopPropagation(),this.setState({filteredData:this.state.showManual?this.state.data.filter((function(e){return!1===e.manual})):this.state.data,showManual:!this.state.showManual})}},{key:"handleClick",value:function(){this.state.showMore||this.setState({showMore:!0})}},{key:"sortByCount",value:function(e,t){return e.count<t.count?1:e.count>t.count?-1:0}},{key:"render",value:function(){var e=this,t=0,a=this.state.filteredData.map((function(e){return n.a.createElement("tr",{key:"issue-item-"+t++},n.a.createElement("td",{className:"pointer"},n.a.createElement(v,{title:e.title,description:e.description})),n.a.createElement("td",null,e.count),n.a.createElement("td",null,e.manual?"Yes":""))}));return n.a.createElement("div",null,n.a.createElement("div",{className:"section-heading"},n.a.createElement(E.a,{icon:b.e,size:"lg"}),n.a.createElement("h2",null,"Top Issues")),n.a.createElement("div",{className:"mb-20"},n.a.createElement("input",{className:"pointer",id:"showmanual-checkbox",type:"checkbox",onChange:function(t){e.handleCheckChange(t)}}),n.a.createElement("span",{className:"pointer",onClick:function(t){e.handleCheckClick(t)}},"Hide Manual Checks")),n.a.createElement("div",{className:this.state.showMore?"section":"section shortened",onClick:this.handleClick},n.a.createElement("div",{className:"table-container"},n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Issue"),n.a.createElement("th",null,"# of Pages Affected"),n.a.createElement("th",null,"Needs manual check?"))),n.a.createElement("tbody",null,a)))))}}]),t}(n.a.Component),k=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"section-heading"},n.a.createElement(E.a,{icon:b.d,size:"lg"}),n.a.createElement("h2",null,"Average Results")),n.a.createElement("div",{className:"averages"},n.a.createElement("div",{className:"average-item"},n.a.createElement("h3",null,"Performance"),n.a.createElement("div",{className:"avg performance"},0===this.props.averages.performance?"n/a":this.props.averages.performance)),n.a.createElement("div",{className:"average-item"},n.a.createElement("h3",null,"Accessibility"),n.a.createElement("div",{className:"avg accessibility"},0===this.props.averages.accessibility?"n/a":this.props.averages.accessibility)),n.a.createElement("div",{className:"average-item"},n.a.createElement("h3",null,"Best Practices"),n.a.createElement("div",{className:"avg best-practices"},0===this.props.averages["best-practices"]?"n/a":this.props.averages["best-practices"])),n.a.createElement("div",{className:"average-item"},n.a.createElement("h3",null,"SEO"),n.a.createElement("div",{className:"avg seo"},0===this.props.averages.seo?"n/a":this.props.averages.seo)),n.a.createElement("div",{className:"average-item"},n.a.createElement("h3",null,"Progressive Web App"),n.a.createElement("div",{className:"avg progressive"},0===this.props.averages.pwa?"n/a":this.props.averages.pwa))))}}]),t}(n.a.Component),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleClick",value:function(){this.props.sortNestedItems(this.props.category)}},{key:"render",value:function(){return n.a.createElement("th",{className:this.props.sorting.sortOn===this.props.category?"result sorted":"result"},n.a.createElement("button",{onClick:this.handleClick},this.props.title," ",n.a.createElement(E.a,{icon:this.props.sorting.sortOn===this.props.category&&this.props.sorting.sortAsc?b.c:b.b})))}}]),t}(n.a.Component),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={data:[],averages:{performance:null,accessibility:null,"best-practices":null,seo:null,pwa:null},sorting:{sortOn:"",sortAsc:!1},fetchComplete:!1,url:"https://api.github.com/repos/rbitting/testing/contents/audits"},a.sortNestedItems=a.sortNestedItems.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.state.url).then((function(e){return e.json()})).then((function(t){e.getAllFileData(t).then((function(t){e.setState({data:t,fetchComplete:!0}),e.setAverages(t)}))}))}},{key:"getAllFileData",value:function(e){for(var t=[],a=function(a){t.push(fetch(e[a].download_url).then((function(e){return e.json()})).then((function(t){return t.url=e[a].download_url,t})))},s=1;s<e.length;s++)a(s);return Promise.all(t)}},{key:"scrollToTop",value:function(){window.scrollTo({top:0,behavior:"smooth"})}},{key:"setAverages",value:function(e){for(var t={performance:0,accessibility:0,"best-practices":0,seo:0,pwa:0},a=0;a<e.length;a++)for(var s in e[a].categories)t[s]+=100*e[a].categories[s].score;this.setState({averages:{performance:Math.ceil(t.performance/e.length),accessibility:Math.ceil(t.accessibility/e.length),"best-practices":Math.ceil(t["best-practices"]/e.length),seo:Math.ceil(t.seo/e.length),pwa:Math.ceil(t.pwa/e.length)}})}},{key:"sortNestedItems",value:function(e){var t=!0;e===this.state.sorting.sortOn&&(t=!this.state.sorting.sortAsc);var a=e.split(".");this.setState({items:this.state.data.sort((function(e,s){for(var n=e,r=s,c=0;c<a.length;c++)n=n[a[c]],r=r[a[c]];return"string"===typeof n&&(n=n.toLowerCase()),"string"===typeof r&&(r=r.toLowerCase()),t?null===n?1:null===r?-1:n===r?0:n<r?-1:1:null===n?-1:null===r?1:n===r?0:n>r?-1:1})),sorting:{sortOn:e,sortAsc:t}})}},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},!this.state.fetchComplete&&n.a.createElement("div",{className:"waiting"},n.a.createElement("div",{className:"lds-roller"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null)),n.a.createElement("p",{className:"mt-20"},"Please wait, results are processing.")),this.state.fetchComplete&&n.a.createElement("div",null,n.a.createElement(k,{averages:this.state.averages}),n.a.createElement(f,{data:this.state.data}),n.a.createElement("div",{className:"section-heading"},n.a.createElement(E.a,{icon:b.f,size:"lg"}),n.a.createElement("h2",null,"All Data")),n.a.createElement("div",{className:"table-container"},n.a.createElement("table",{className:"results",cellPadding:"0",cellSpacing:"0"},n.a.createElement("thead",null,n.a.createElement("tr",{className:"result-item heading"},n.a.createElement(y,{title:"URL",category:"requestedUrl",sorting:this.state.sorting,sortNestedItems:this.sortNestedItems}),n.a.createElement(y,{title:"Performance",category:"categories.performance.score",sorting:this.state.sorting,sortNestedItems:this.sortNestedItems}),n.a.createElement(y,{title:"Accessibility",category:"categories.accessibility.score",sorting:this.state.sorting,sortNestedItems:this.sortNestedItems}),n.a.createElement(y,{title:"Best Practices",category:"categories.best-practices.score",sorting:this.state.sorting,sortNestedItems:this.sortNestedItems}),n.a.createElement(y,{title:"SEO",category:"categories.seo.score",sorting:this.state.sorting,sortNestedItems:this.sortNestedItems}),n.a.createElement(y,{title:"Progressive Web App",category:"categories.pwa.score",sorting:this.state.sorting,sortNestedItems:this.sortNestedItems}))),n.a.createElement(d,{data:this.state.data}))),n.a.createElement("div",{className:"back-to-top center mt-20"},n.a.createElement("button",{onClick:this.scrollToTop},n.a.createElement(E.a,{icon:b.a,size:"md"}),n.a.createElement("br",null),"Back to Top")),n.a.createElement("div",{className:"disclaimer mt-20"},"Accessibility data pulled from GitHub: ",n.a.createElement("a",{href:this.state.url,target:"_blank",rel:"noopener noreferrer"},this.state.url),". Use Chrome for best experience.")))}}]),t}(n.a.Component);a(29);var C=function(){return n.a.createElement("div",null,n.a.createElement("header",null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"logo"},n.a.createElement("img",{src:"https://via.placeholder.com/100x33.png?text=Logo",alt:"Logo placeholder C/O https://placeholder.com/"})),n.a.createElement("h1",null,"Web Accessibility Dashboard"))),n.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.a8a6be9b.chunk.js.map